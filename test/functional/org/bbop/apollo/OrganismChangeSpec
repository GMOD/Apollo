package org.bbop.apollo

import geb.spock.GebReportingSpec
import spock.lang.*

import org.bbop.apollo.pages.*

@Stepwise
class LoginSpec extends GebReportingSpec {

    String username = "demo@demo.com"
    String password = "demo"

    def "login"() {
        when:
        to LoginDialogPage
        then:
        LoginDialogPage.loginDialog

        when:
        $("#login-form input[name=username]").value(username)
        $("#login-form input[name=password]").value(password)

        then:
        "Dashboard".equals($(".page-header").text())
//        LoginDialog.
    }

}